<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="../protocoldocs.css" type="text/css"/>
    <title>OpenRubyRMK protocol documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  </head>
  <body>
    <div id="header">
      <p id="docname">OpenRubyRMK Protocol Documentation</p>
      <p id="top"><a href="../index.html">â†‘ Top</a></p>
      <div class="clear"></div>
    </div>

    <div id="main">
      <h1 id="requestsglobal-scripts">Requests/Global scripts</h1>

<p><em>Global scripts</em> are executable Ruby code that is evaluated at the
beginning of a game.</p>

<div class="request">
  <h2 id="newglobalscript">new_global_script</h2>

  <p>Upload a Ruby script to the server.</p>

  <h3 id="parameters">Parameters</h3>

  <dl>
    <dt>name</dt>
    <dd>The name this script will be filed under on the server. Note that
any spaces are automatically replaced with underscores and the whole
thing is downcased.</dd>
    <dt>code</dt>
    <dd>The actual code. May be multiline.</dd>
  </dl>

  <h3 id="responses">Responses</h3>

  <dl>
    <dt>ok</dt>
    <dd>The script was successfully stored.</dd>
  </dl>

  <h3 id="notifications">Notifications</h3>

  <ul>
    <li><code>global_script_added</code></li>
  </ul>
</div>

<div class="request">
  <h2 id="deleteglobalscript">delete_global_script</h2>

  <p>Removes a global script from the server.</p>

  <h3 id="parameters-1">Parameters</h3>

  <dl>
    <dt>name</dt>
    <dd>The name of the script to remove. As with <code>new_global_script</code>,
spaces are replaced by underscores and the name is converted to
lowercase.</dd>
  </dl>

  <h3 id="responses-1">Responses</h3>

  <dl>
    <dt>ok</dt>
    <dd>The script has successfully been deleted.</dd>
  </dl>

  <h3 id="notifications-1">Notifications</h3>

  <ul>
    <li><code>global_script_deleted</code></li>
  </ul>
</div>


    </div>

    <div id="footer">
      <p id="version">OpenRubyRMK 0.0.1-dev</p>
      <p id="generator">Generated from the Markdown sources by <a href="http://kramdown.rubyforge.org">kramdown 0.13.8</a>.</p>
    </div>
  </body>
</html>
